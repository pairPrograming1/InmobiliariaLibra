{"version":3,"sources":["../../../../../../proyectos/InmobiliariaLibra/components/property-card.tsx/__nextjs-internal-proxy.mjs","../../../../../../proyectos/InmobiliariaLibra/node_modules/lucide-react/src/icons/plus.ts","../../../../../../proyectos/InmobiliariaLibra/app/propiedades/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PropertyCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call PropertyCard() from the server but PropertyCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/proyectos/InmobiliariaLibra/components/property-card.tsx\",\n    \"PropertyCard\",\n);\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import { sql } from \"@/lib/db\"\nimport type { PropertyWithDetails, Property } from \"@/lib/types\"\nimport { PropertyCard } from \"@/components/property-card\"\nimport { Button } from \"@/components/ui/button\"\nimport Link from \"next/link\"\nimport { Building2, Plus } from \"lucide-react\"\n\nasync function getProperties(): Promise<PropertyWithDetails[]> {\n  try {\n    if (!sql) {\n      console.log(\"Database not configured yet\")\n      return []\n    }\n\n    const properties = await sql<Property[]>`\n      SELECT * FROM properties ORDER BY created_at DESC\n    `\n\n    const propertiesWithDetails = await Promise.all(\n      properties.map(async (property) => {\n        const rooms = await sql`\n          SELECT * FROM rooms WHERE property_id = ${property.id}\n        `\n        const images = await sql`\n          SELECT * FROM property_images WHERE property_id = ${property.id} ORDER BY display_order\n        `\n        const services = await sql`\n          SELECT s.* FROM services s\n          JOIN property_services ps ON s.id = ps.service_id\n          WHERE ps.property_id = ${property.id}\n        `\n\n        return {\n          ...property,\n          rooms,\n          images,\n          services,\n        } as PropertyWithDetails\n      }),\n    )\n\n    return propertiesWithDetails\n  } catch (error) {\n    console.error(\"[v0] Error fetching properties:\", error)\n    console.log(\n      \"Database connection failed. Make sure PostgreSQL is running and InmobiliariaLibra database exists.\",\n    )\n    return []\n  }\n}\n\nexport default async function PropiedadesPage() {\n  const properties = await getProperties()\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"border-b border-border bg-card sticky top-0 z-10 backdrop-blur-sm bg-card/95\">\n        <div className=\"container mx-auto px-4 py-3 md:py-4\">\n          <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0\">\n            <div className=\"flex items-center gap-2 md:gap-3 flex-1\">\n              <Building2 className=\"h-6 md:h-8 w-6 md:w-8 text-primary shrink-0\" />\n              <div className=\"min-w-0 flex-1\">\n                <h1 className=\"text-lg md:text-2xl font-bold text-foreground truncate\">Propiedades en Alquiler</h1>\n                <p className=\"text-xs md:text-sm text-muted-foreground\">\n                  {properties.length} {properties.length === 1 ? \"propiedad disponible\" : \"propiedades disponibles\"}\n                </p>\n              </div>\n            </div>\n            <Link href=\"/admin\" className=\"w-full sm:w-auto\">\n              <Button className=\"gap-2 w-full sm:w-auto\" size=\"sm\" md-size=\"default\">\n                <Plus className=\"h-4 w-4\" />\n                <span className=\"text-xs md:text-base\">Nueva Propiedad</span>\n              </Button>\n            </Link>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"container mx-auto px-4 py-6 md:py-8\">\n        {properties.length === 0 ? (\n          <div className=\"text-center py-12 md:py-20\">\n            <Building2 className=\"h-12 md:h-16 w-12 md:w-16 text-muted-foreground mx-auto mb-4\" />\n            <h2 className=\"text-xl md:text-2xl font-bold text-foreground mb-2\">No hay propiedades disponibles</h2>\n            <p className=\"text-sm md:text-base text-muted-foreground mb-6\">Comienza agregando tu primera propiedad en alquiler</p>\n            <Link href=\"/admin\">\n              <Button size=\"lg\" className=\"gap-2\">\n                <Plus className=\"h-5 w-5\" />\n                Agregar Primera Propiedad\n              </Button>\n            </Link>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6\">\n            {properties.map((property) => (\n              <PropertyCard key={property.id} property={property} />\n            ))}\n          </div>\n        )}\n      </main>\n\n      {/* Footer */}\n      <footer className=\"border-t border-border mt-12 md:mt-20 py-6 md:py-8\">\n        <div className=\"container mx-auto px-4 text-center text-muted-foreground text-xs md:text-sm\">\n          <p>Plataforma de Gesti√≥n de Alquileres - Demo</p>\n        </div>\n      </footer>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}